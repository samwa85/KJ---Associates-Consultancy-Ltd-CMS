<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Professional quantity surveying and construction project management services in Tanzania. 17+ years experience serving public, private, and donor-funded projects.">
    <meta name="keywords"
        content="quantity surveyor, construction project management, Tanzania, cost control, tender documentation, final accounts, construction consultancy">
    <title>KJ & Associates Consultancy Ltd | Quantity Surveyors & Construction Project Managers</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#0d4d2c',
                            light: '#1a7a47',
                            dark: '#083d22',
                        },
                        accent: {
                            DEFAULT: '#d4a855',
                            light: '#e8c882',
                            dark: '#b8923e',
                        },
                    },
                },
            },
        }
    </script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Configuration (must load first) -->
    <script src="js/config.js"></script>

    <!-- Supabase JS (Must be after config.js) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-config.js"></script>
    <script src="js/supabase-client.js"></script>

    <script src="js/main.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <a href="index.html" class="logo">
                    <span class="logo-text">KJ & Associates</span>
                    <span class="logo-subtitle">Consultancy Ltd</span>
                </a>
                <button class="mobile-menu-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu">
                    <li><a href="index.html" class="active">Home</a></li>
                    <li class="dropdown">
                        <a href="about.html">About Us <span class="dropdown-arrow">▼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="about.html#profile">Company Profile</a></li>
                            <li><a href="about.html#directors-message">Managing Director's Message</a></li>
                            <li><a href="about.html#board">Board of Directors</a></li>
                            <li><a href="about.html#team">Leadership & Team</a></li>
                            <li><a href="about.html#structure">Organization Structure</a></li>
                            <li><a href="about.html#technology">Technology & Tools</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="services/index.html">Services <span class="dropdown-arrow">▼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="services/index.html#pre-contract">Pre-Contract Services</a></li>
                            <li><a href="services/index.html#post-contract">Post-Contract Services</a></li>
                            <li><a href="services/index.html#tendering">Tendering & Documentation</a></li>
                            <li><a href="services/index.html#dispute">Dispute Support</a></li>
                        </ul>
                    </li>
                    <li><a href="projects/index.html">Projects</a></li>
                    <li><a href="clients.html">Clients</a></li>
                    <li><a href="certifications.html">Certifications</a></li>
                    <li><a href="blog/index.html">Blog</a></li>
                    <li><a href="contact.html" class="btn-primary">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Slideshow Section -->
    <section class="hero-slideshow">
        <!-- Slides Container - Populated dynamically by JS -->
        <div class="slides-container">
            <!-- Slides will be loaded from CMS data -->
        </div>

        <!-- Navigation Arrows -->
        <div class="slide-nav">
            <button class="slide-arrow prev" aria-label="Previous slide">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6" />
                </svg>
            </button>
            <button class="slide-arrow next" aria-label="Next slide">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6" />
                </svg>
            </button>
        </div>

        <!-- Slide Indicators - Populated dynamically by JS -->
        <div class="slide-indicators">
            <!-- Indicators will be loaded from CMS data -->
        </div>
    </section>

    <!-- Stats Bar -->
    <section class="stats-bar">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" data-target="17">0</span>
                    <span class="stat-plus">+</span>
                    <span class="stat-label">Years Experience</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" data-target="50">0</span>
                    <span class="stat-plus">+</span>
                    <span class="stat-label">Projects Delivered</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" data-target="15">0</span>
                    <span class="stat-plus">+</span>
                    <span class="stat-label">Expert Team Members</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" data-target="100">0</span>
                    <span class="stat-plus">%</span>
                    <span class="stat-label">Client Satisfaction</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Core Services Section -->
    <section class="services-section">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">What We Do</div>
                <h2 class="section-title">Our Core Services</h2>
                <p class="section-subtitle">Comprehensive quantity surveying and project management solutions from
                    inception to final account</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="lightbulb"></i></div>
                    <h3>Inception & Feasibility</h3>
                    <p>Budget estimates, cost plans, and cash flow forecasts during project inception and feasibility
                        stages.</p>
                    <a href="services/inception-feasibility.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="calculator"></i></div>
                    <h3>Pre-Contract Cost Control</h3>
                    <p>Cost planning, estimates, and budget control during design stages to ensure your project stays on
                        track.</p>
                    <a href="services/pre-contract-cost-control.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="file-text"></i></div>
                    <h3>Tender Documentation</h3>
                    <p>Preparation of bills of quantities, tender documents, contracts, and all procurement
                        documentation.</p>
                    <a href="services/tender-contract-documentation.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="clipboard-check"></i></div>
                    <h3>Tender Appraisal</h3>
                    <p>Evaluation and shortlisting of tenders with detailed comparative analysis and appraisal reports.
                    </p>
                    <a href="services/tender-selection-appraisal.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="calendar-check"></i></div>
                    <h3>Interim Valuations</h3>
                    <p>Monthly valuations, payment certifications, and progress assessments during construction.</p>
                    <a href="services/interim-valuations.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="trending-up"></i></div>
                    <h3>Post-Contract Cost Control</h3>
                    <p>Cost monitoring, variation management, and financial reporting throughout construction.</p>
                    <a href="services/post-contract-cost-control.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="check-circle"></i></div>
                    <h3>Final Account</h3>
                    <p>Preparation and agreement of final accounts, variation reconciliation, and project closure.</p>
                    <a href="services/final-account.html" class="service-link">Learn More →</a>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i data-lucide="scale"></i></div>
                    <h3>Dispute Support</h3>
                    <p>Alternative dispute resolution, claims preparation, litigation support, and expert witness
                        services.</p>
                    <a href="services/dispute-claims-support.html" class="service-link">Learn More →</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">Our Advantages</div>
                <h2 class="section-title">Why Choose Us</h2>
                <p class="section-subtitle">What sets us apart in delivering exceptional quantity surveying services</p>
            </div>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="target"></i></div>
                    <div class="feature-content">
                        <h3>Accurate Cost Forecasting</h3>
                        <p>Advanced QS software tools ensure precise cost planning and forecasting throughout your
                            project lifecycle.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="zap"></i></div>
                    <div class="feature-content">
                        <h3>Speed & Accuracy</h3>
                        <p>State-of-the-art software for bills of quantities, cost planning, and cash flow projections
                            deliver results faster.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="badge-dollar-sign"></i></div>
                    <div class="feature-content">
                        <h3>Value for Money</h3>
                        <p>Proven track record of delivering cost-effective solutions without compromising quality or
                            service.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="building-2"></i></div>
                    <div class="feature-content">
                        <h3>Diverse Experience</h3>
                        <p>Extensive experience in both civil engineering and building works across various sectors.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="handshake"></i></div>
                    <div class="feature-content">
                        <h3>Director Involvement</h3>
                        <p>Senior directors with 15+ years experience are directly involved in every project.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon"><i data-lucide="globe"></i></div>
                    <div class="feature-content">
                        <h3>Donor-Funded Expertise</h3>
                        <p>Specialized experience working with World Bank, AfDB, UNDP, UNHCR, and other international
                            organizations.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Projects Section -->
    <section class="featured-projects">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">Our Work</div>
                <h2 class="section-title">Featured Projects</h2>
                <p class="section-subtitle">Showcasing our expertise across diverse sectors and project types</p>
            </div>
            <div class="projects-grid" id="featuredProjectsGrid">
                <!-- Projects loaded dynamically from CMS -->
            </div>
            <div class="text-center mt-3">
                <a href="projects/index.html" class="btn btn-secondary">View All Projects</a>
            </div>
        </div>
    </section>

    <script>
        // Default projects for fallback
        const defaultProjects = [
            { id: 1, title: "Residential Complex Apartments – Oysterbay", client: "Private Developer", location: "Oysterbay, Dar es Salaam", value: "24,000,000,000", funding: "Private", sector: "Building", status: "Ongoing", featured: true },
            { id: 2, title: "Water Institute Vertical Extension Project", client: "Ministry of Water", location: "Dar es Salaam", value: "15,000,000,000", funding: "World Bank", sector: "Building", status: "Ongoing", featured: true },
            { id: 3, title: "MSD Headquarters Office Refurbishment", client: "Medical Stores Department (MSD)", location: "Dar es Salaam", value: "7,387,766,594", funding: "Government", sector: "Building", status: "Ongoing", featured: true },
            { id: 4, title: "Uongozi Institute – Kondo Village Development", client: "Uongozi Institute", location: "Bagamoyo", value: "70,500,000,000", funding: "Private", sector: "Building", status: "Ongoing" },
            { id: 5, title: "Sisters of Mary Girls' Town School – Building No. 2", client: "Sisters of Mary", location: "Tanzania", value: "7,000,000,000", funding: "Private", sector: "Building", status: "Completed" },
            { id: 6, title: "Cement Factory – Tanga Cement PLC", client: "Tanga Cement PLC", location: "Tanga", value: "25,000,000", currency: "USD", funding: "Private", sector: "Industrial", status: "Completed" }
        ];

        // Global variable to store image data
        let cmsImageData = {};

        // Load Featured Projects from CMS (prefers API data from main.js)
        async function loadFeaturedProjects() {
            let projects = [];
            let cmsData = null;

            // Prefer data loaded by main.js (API-backed) to avoid per-browser differences
            try {
                cmsData = await (window.cmsDataReady || Promise.resolve(null));
                if (cmsData && Array.isArray(cmsData.projects)) {
                    projects = cmsData.projects;
                    cmsImageData = cmsData._imageData || {};
                    console.log('[Home] Using API-backed CMS data', projects.length);
                }
            } catch (e) {
                console.warn('[Home] Failed to read cmsDataReady', e);
            }

            // Fallback to existing localStorage cache only if API data unavailable
            const cachedRaw = localStorage.getItem('kj_cms_data');
            if ((!projects || projects.length === 0) && cachedRaw) {
                try {
                    const cached = JSON.parse(cachedRaw);
                    projects = cached.projects || [];
                    cmsImageData = cached._imageData || {};
                    console.log('[Home] Using cached CMS data', projects.length);
                } catch (e) {
                    console.error('[Home] Error parsing cached CMS data:', e);
                }
            }

            // Final fallback to defaults for brand-new visitors
            if (!projects || projects.length === 0) {
                console.log('[Home] No CMS data, using defaults');
                projects = defaultProjects;
            }

            // Get projects marked as "featured" first
            let featuredProjects = projects.filter(p => p.featured);
            console.log('Featured projects found:', featuredProjects.length);
            
            // If no projects are marked as featured, fall back to mix of ongoing/completed
            if (featuredProjects.length === 0) {
                console.log('No featured projects, using fallback selection');
                const ongoingProjects = projects.filter(p => p.status === 'Ongoing');
                const completedProjects = projects.filter(p => p.status === 'Completed');
                
                // Take 3 ongoing and 3 completed, or fill with whatever is available
                featuredProjects.push(...ongoingProjects.slice(0, 3));
                featuredProjects.push(...completedProjects.slice(0, 3));
                
                // If we don't have 6, fill with remaining projects
                if (featuredProjects.length < 6) {
                    const remaining = projects.filter(p => !featuredProjects.includes(p));
                    featuredProjects.push(...remaining.slice(0, 6 - featuredProjects.length));
                }
            }
            
            // Limit to 6 projects
            featuredProjects = featuredProjects.slice(0, 6);
            console.log('Rendering', featuredProjects.length, 'featured projects');
            
            // Debug: log image info for each project
            featuredProjects.forEach(p => {
                const hasImages = Array.isArray(p.images) && p.images.length > 0;
                const hasImage = p.image && p.image.trim() !== '';
                console.log(`Project "${p.title}": images=${hasImages ? p.images.length : 0}, image=${hasImage ? 'yes' : 'no'}`);
            });

            renderFeaturedProjects(featuredProjects);
        }

        function normalizeImagePath(path) {
            if (!path || path.trim() === '') return '';
            if (path.startsWith('http://') || path.startsWith('https://') || path.startsWith('data:image')) return path;
            if (path.startsWith('/')) {
                if (window.location.protocol === 'file:') {
                    return path.substring(1);
                }
            }
            return path;
        }

        function formatProjectValue(value, currency) {
            if (!value) return '';
            const numValue = parseFloat(value.toString().replace(/,/g, ''));
            if (isNaN(numValue)) return value;
            
            if (currency === 'USD') {
                return `USD ${numValue.toLocaleString()}`;
            } else if (currency === 'EUR') {
                return `EUR ${numValue.toLocaleString()}`;
            } else {
                // TZS - format in billions/millions
                if (numValue >= 1000000000) {
                    return `TZS ${(numValue / 1000000000).toFixed(1)}B`;
                } else if (numValue >= 1000000) {
                    return `TZS ${(numValue / 1000000).toFixed(1)}M`;
                } else {
                    return `TZS ${numValue.toLocaleString()}`;
                }
            }
        }

        function getSectorIcon(sector) {
            const icons = {
                'Building': '<i data-lucide="building-2"></i>',
                'Civil': '<i data-lucide="route"></i>',
                'Industrial': '<i data-lucide="factory"></i>',
                'Infrastructure': '<i data-lucide="landmark"></i>',
                'Healthcare': '<i data-lucide="heart-pulse"></i>',
                'Education': '<i data-lucide="graduation-cap"></i>'
            };
            return icons[sector] || '<i data-lucide="hard-hat"></i>';
        }

        function renderFeaturedProjects(projects) {
            const container = document.getElementById('featuredProjectsGrid');
            if (!container) return;

            if (projects.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--text-secondary); grid-column: 1/-1;">No projects available. Add projects in the CMS.</p>';
                return;
            }

            container.innerHTML = projects.map(project => {
                // Handle image - can be array of objects, array of strings, or string
                let imagePath = '';

                // Helper to check if value is usable image data (base64 or URL)
                const isUsableImage = (val) => {
                    return val && typeof val === 'string' && 
                           (val.startsWith('data:image') || val.startsWith('http://') || val.startsWith('https://') || val.startsWith('/') || val.startsWith('./') || val.startsWith('../'));
                };
                
                // First check project.images array
                if (Array.isArray(project.images) && project.images.length > 0) {
                    const firstImage = project.images[0];
                    // Check if it's an object with path/data or just a string
                    if (typeof firstImage === 'object' && firstImage !== null) {
                        // Prefer data (base64) over path
                        if (isUsableImage(firstImage.data)) {
                            imagePath = firstImage.data;
                        } else if (isUsableImage(firstImage.path)) {
                            imagePath = firstImage.path;
                        } else if (firstImage.path && cmsImageData[firstImage.path]) {
                            imagePath = cmsImageData[firstImage.path];
                        }
                    } else if (typeof firstImage === 'string') {
                        // String - could be base64, URL, or path
                        if (isUsableImage(firstImage)) {
                        imagePath = firstImage;
                        } else if (cmsImageData[firstImage]) {
                            imagePath = cmsImageData[firstImage];
                        }
                    }
                }
                
                // If images array didn't yield anything, check project.image
                if (!imagePath && project.image) {
                    if (isUsableImage(project.image)) {
                        imagePath = project.image;
                    } else if (cmsImageData[project.image]) {
                        imagePath = cmsImageData[project.image];
                    }
                }

                // Final check - if we still have a path that's not usable, clear it
                if (imagePath && !isUsableImage(imagePath)) {
                    imagePath = '';
                } else if (imagePath) {
                    imagePath = normalizeImagePath(imagePath);
                }
                
                const hasImage = imagePath && imagePath.trim() !== '';
                
                const valueDisplay = formatProjectValue(project.value, project.currency);
                const statusClass = project.status === 'Ongoing' ? 'ongoing' : '';
                
                return `
                    <div class="project-card">
                        ${hasImage 
                            ? `<div class="project-image" style="background-image: url('${imagePath}'); background-size: cover; background-position: center;"></div>`
                            : `<div class="project-image">${getSectorIcon(project.sector)}</div>`
                        }
                        <div class="project-content">
                            <div class="project-badge ${statusClass}">${project.status || 'Ongoing'}</div>
                            <h3>${project.title || 'Untitled Project'}</h3>
                            <div class="project-meta">
                                <span><i data-lucide="map-pin" class="inline-icon"></i> ${project.location || 'Tanzania'}</span>
                                ${valueDisplay ? `<span><i data-lucide="banknote" class="inline-icon"></i> ${valueDisplay}</span>` : ''}
                            </div>
                            <p class="project-client">Client: ${project.client || 'Various'}</p>
                            <p class="project-funding">Funding: ${project.funding || 'N/A'}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Load projects when DOM is ready
        document.addEventListener('DOMContentLoaded', async function () {
            await loadFeaturedProjects();
        });
    </script>

    <!-- Trusted By Section -->
    <section class="trusted-by">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" style="font-size: 1.5rem; margin-bottom: 0;">Trusted By Leading Organizations
                </h2>
            </div>
            <div class="clients-scroll" id="trustedClientsScroll">
                <!-- Clients loaded dynamically from CMS -->
            </div>
            <div class="text-center mt-2">
                <a href="clients.html" class="btn btn-outline">View All Clients</a>
            </div>
        </div>
    </section>

    <script>
        // Load Trusted Clients from CMS
        function loadTrustedClients() {
            const savedData = localStorage.getItem('kj_cms_data');
            let clients = [];
            let imageData = {};

            if (savedData) {
                try {
                    const cmsData = JSON.parse(savedData);
                    clients = cmsData.clients || [];
                    imageData = cmsData._imageData || {};
                } catch (e) {
                    console.error('Error parsing CMS data:', e);
                }
            }

            renderTrustedClients(clients, imageData);
        }

        function renderTrustedClients(clients, imageData) {
            const container = document.getElementById('trustedClientsScroll');
            if (!container) return;

            if (clients.length === 0) {
                container.innerHTML = '<div class="client-logo">No clients added yet</div>';
                return;
            }

            // Show up to 8 clients
            const displayClients = clients.slice(0, 8);

            container.innerHTML = displayClients.map(client => {
                let logoPath = client.logo || '';
                
                // Check if we have base64 data stored for this logo
                if (logoPath && imageData && imageData[logoPath]) {
                    logoPath = imageData[logoPath]; // Use base64 data
                } else if (logoPath && !logoPath.startsWith('data:image') && !logoPath.startsWith('http')) {
                    logoPath = normalizeImagePath(logoPath);
                }
                
                const hasLogo = logoPath && logoPath.trim() !== '' && !logoPath.includes('undefined');
                
                return hasLogo 
                    ? `<div class="client-logo"><img src="${logoPath}" alt="${client.name}" style="max-height: 40px; max-width: 120px; object-fit: contain;" onerror="this.parentElement.innerHTML='${client.name}'"></div>`
                    : `<div class="client-logo">${client.name}</div>`;
            }).join('');
        }

        // Load clients when DOM is ready
        document.addEventListener('DOMContentLoaded', function () {
            loadTrustedClients();
        });
    </script>

    <!-- Testimonials Section -->
    <section class="testimonials-section" id="testimonials">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">Testimonials</div>
                <h2 class="section-title">What Our Clients Say</h2>
                <p class="section-subtitle">Hear from the organizations we've partnered with</p>
            </div>
            <div class="testimonials-slider" id="testimonialsSlider">
                <!-- Testimonials loaded dynamically from CMS -->
            </div>
            <div class="testimonials-nav">
                <button class="testimonial-arrow prev" aria-label="Previous testimonial">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="testimonial-dots" id="testimonialDots"></div>
                <button class="testimonial-arrow next" aria-label="Next testimonial">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6" />
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>Ready to Start Your Project?</h2>
            <p>Let's discuss how we can help you achieve cost certainty and project success.</p>
            <a href="contact.html" class="btn btn-white btn-lg">Get in Touch Today</a>
        </div>
    </section>

    <!-- WhatsApp Floating Button -->
    <a href="#" id="whatsappBtn" class="whatsapp-float" target="_blank" rel="noopener noreferrer"
        aria-label="Chat on WhatsApp">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
            <path
                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
        </svg>
        <span class="whatsapp-tooltip">Chat with us</span>
    </a>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" aria-label="Back to top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6" />
        </svg>
    </button>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>KJ & Associates</h3>
                    <p>Quantity Surveyors & Construction Project Managers serving Tanzania with excellence for 17+
                        years.</p>
                    <p class="footer-location"><i data-lucide="map-pin" class="inline-icon"></i> KIJITONYAMA, MABATINI
                        ROAD<br>DAR ES SALAAM, TANZANIA</p>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services/index.html">Services</a></li>
                        <li><a href="projects/index.html">Projects</a></li>
                        <li><a href="clients.html">Clients</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="blog/index.html">Blog</a></li>
                        <li><a href="certifications.html">Certifications</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <p><i data-lucide="mail" class="inline-icon"></i> <a
                            href="mailto:md@kjconsultancy.co.tz">md@kjconsultancy.co.tz</a></p>
                    <p><i data-lucide="mail" class="inline-icon"></i> <a
                            href="mailto:info@kjconsultancy.co.tz">info@kjconsultancy.co.tz</a></p>
                    <p><i data-lucide="phone" class="inline-icon"></i> <a href="tel:+255768757779">+255 768 757 779</a>
                    </p>
                    <div class="social-links">
                        <a href="#" aria-label="LinkedIn"><i data-lucide="linkedin"></i></a>
                        <a href="#" aria-label="Facebook"><i data-lucide="facebook"></i></a>
                        <a href="#" aria-label="Twitter"><i data-lucide="twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy;
                    <script>document.write(new Date().getFullYear())</script> KJ & Associates Consultancy Ltd. All
                    rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Initialize Lucide Icons -->
    <script>lucide.createIcons();</script>
</body>

</html>